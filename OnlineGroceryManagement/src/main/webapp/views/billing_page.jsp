<%@ page language="java" contentType="text/html; charset=ISO-8859-1"
	pageEncoding="ISO-8859-1"%>
<%@page isELIgnored="false"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Billing Page</title>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
	crossorigin="anonymous">
<style>
<<<<<<< HEAD
html{
	height: 100%;
	width: 100%;
}
body {
  background-image: url("https://imageio.forbes.com/specials-images/imageserve/1141999659/0x0.jpg?format=jpg&width=1200");
	background-repeat: no-repeat;
    background-size: 100%;
}

.containers {
left:2%;
  position: relative;
  width: 600px;
  height: 350px;
  border-radius: 20px;
  padding: 40px;
  box-sizing: border-box;
  background: rgb(160, 150, 110);
  box-shadow: 14px 14px 20px #cbced1, -14px -14px 20px white;
}
.btn {
	
    left: 50%;
    border-radius: 3px !important;
}
.bttn{
 position: relative;
font-size: 18px !important;
    margin-top: 15px !important;
    font-weight: 600;
    padding: 20px 20px;
	margin-left: 35%;
	text-align: left;
	width: 20%;
	
}
.btn-success{
font-size: 18px !important;
    margin-top: 15px !important;
    font-weight: 600;
    padding: 10px 50px;
	background-color: #D3C9A1;
	
}
.btn-blue{
font-size: 20px !important;
  
    font-weight: bold;
    padding: 10px 90px;
	background-color: #00FFFF;
	
}
.btn-green{
font-size: 18px !important;
  
    font-weight: bold;
    padding: 10px 10px;
	background-color: #04ba04;
	
}
.btn-danger{
border-radius: 3px !important;
font-size: 14px !important;
    margin-top: 20px !important;
    font-weight: 500;
    padding: 12px 10px;
	background-color: #FF0000;
	color: #FFFFFF;
}
@import url(https://fonts.googleapis.com/css?family=Bungee);
h1 {
  text-shadow: 4px 4px 4px #ffcf0f, 2px 2px 1px white;
  font-family: 'Bungee';
  font-weight: bold;
}
=======
html {
	height: 100%;
	width: 100%;
}

body {
	background-image:
		url("https://imageio.forbes.com/specials-images/imageserve/1141999659/0x0.jpg?format=jpg&width=1200");
	background-repeat: no-repeat;
	background-size: 100%;
}

.containers {
	left: 2%;
	position: relative;
	width: 600px;
	height: 350px;
	border-radius: 20px;
	padding: 40px;
	box-sizing: border-box;
	background: rgb(160, 150, 110);
	box-shadow: 14px 14px 20px #cbced1, -14px -14px 20px white;
}

.btn {
	left: 50%;
	border-radius: 3px !important;
}

.bttn {
	position: relative;
	font-size: 18px !important;
	margin-top: 15px !important;
	font-weight: 600;
	padding: 20px 20px;
	margin-left: 35%;
	text-align: left;
	width: 20%;
}

.btn-success {
	font-size: 18px !important;
	margin-top: 15px !important;
	font-weight: 600;
	padding: 10px 50px;
	background-color: #D3C9A1;
}

.btn-blue {
	font-size: 20px !important;
	font-weight: bold;
	padding: 10px 90px;
	background-color: #00FFFF;
}

.btn-green {
	font-size: 18px !important;
	font-weight: bold;
	padding: 10px 10px;
	background-color: #04ba04;
}

.btn-danger {
	border-radius: 3px !important;
	font-size: 14px !important;
	margin-top: 20px !important;
	font-weight: 500;
	padding: 12px 10px;
	background-color: #FF0000;
	color: #FFFFFF;
}

@import url(https://fonts.googleapis.com/css?family=Bungee);

h1 {
	text-shadow: 4px 4px 4px #ffcf0f, 2px 2px 1px white;
	font-family: 'Bungee';
	font-weight: bold;
}

>>>>>>> 52dce04bc68cc567731e792fee31c1d35d71101b
.container {
	position: relative;
	margin-top: 5%;
	left: 3%;
<<<<<<< HEAD
	
}
=======
}

>>>>>>> 52dce04bc68cc567731e792fee31c1d35d71101b
.contain {
	position: relative;
	top: 10%;
	right: 3%;
<<<<<<< HEAD
	
}
=======
}

>>>>>>> 52dce04bc68cc567731e792fee31c1d35d71101b
table {
	width: 600px;
	border-collapse: collapse;
	overflow: auto;
<<<<<<< HEAD
	box-shadow: 0 0 20px rgba(0,0,0,0.1);
	text-align: center;
	margin-top: 5%;
	
=======
	box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
	text-align: center;
	margin-top: 5%;
>>>>>>> 52dce04bc68cc567731e792fee31c1d35d71101b
}

th {
	padding: 15px;
	background-color: rgb(153, 153, 153);
	color: black;
}
<<<<<<< HEAD
td{
	padding: 15px;
	background-color: #dbd7d7;
	color: #0a0a0a;
	
=======

td {
	padding: 15px;
	background-color: #dbd7d7;
	color: #0a0a0a;
>>>>>>> 52dce04bc68cc567731e792fee31c1d35d71101b
}

th {
	text-align: left;
}

<<<<<<< HEAD
thead {
	th {
		background-color: #55608f;
	}
}


=======
thead {th { background-color:#55608f;
	
}
}
>>>>>>> 52dce04bc68cc567731e792fee31c1d35d71101b
</style>

</head>
<body>
<<<<<<< HEAD
	
		<div align="center" style="color: green;">${msg }</div>

		<div align="center" style="color: green;">
			<h1>Billing</h1>
		</div>

		<div style="display: flex; justify-content: space-between;">
			<div class="containers">
				<form action="addToBill" method="post">
					<div style="display: flex;">
						<div style="margin-right: 150px; color: green">Item</div>
						<div style="color: green">Quantity</div>
					</div>
					<br> <input type="text" name="item"
						style="margin-bottom: 10px"> 
						<input type="number"
						name="quantity" style="margin-bottom: 10px"> <br>
					<div style="display: flex;">
						<div style="margin-right: 20px; color: green">Price</div>
						<div style="color: green;">
							<input type="number" name="price" style="margin-right: 50px;">
							<input type="submit"  class="btn-green" style="background: #33FF96;">
						</div>
					</div>

				</form>



				<%-- <input type="text" name="shop_name"  value="${shop_name }" placeholder="${shop_name }" hidden="true" /> --%>
=======

	<div align="center" style="color: green;">${msg }</div>

	<div align="center" style="color: green;">
		<h1>Billing</h1>
	</div>

	<div style="display: flex; justify-content: space-between;">
		<div class="containers">
			<form action="addToBill" method="post">
				<div style="display: flex;">
					<div style="margin-right: 150px; color: green">Item</div>
					<div style="color: green">Quantity</div>
				</div>
				<br> <input type="text" name="item" style="margin-bottom: 10px"
					required="required"> <input type="number" min="0" value="0"
					name="quantity" style="margin-bottom: 10px" required="required">
>>>>>>> 52dce04bc68cc567731e792fee31c1d35d71101b
				<br>
				<div style="display: flex;">
					<div style="margin-right: 20px; color: green">Price</div>
					<div style="color: green;">
						<input type="number" name="price" min="0" value="0"
							style="margin-right: 50px;" required="required"> <input
							type="submit" class="btn-green" style="background: #33FF96;">
					</div>
				</div>

<<<<<<< HEAD
				<br> <input type="text" name="user_name" id="user_name"> <input
					id="ph_number" type="number" name="ph_number" style="margin-bottom: 10px;">
				<select id="PM" name="PM" style="margin-bottom: 10px; width: 100px;">
					<option value="Card">Card</option>
					<option value="Cash">Cash</option>
					<option value="Upi">Upi</option>
				</select> <br>
				
				
				<div align="left" style="color: green; display: flex; justify-content: space-around;">
					  <div> <h5> Gst: ${gd.gst }% </h5> </div>
					  <div> <h5> Discount: ${gd.discount }% </h5></div>
				</div>
=======
			</form>
>>>>>>> 52dce04bc68cc567731e792fee31c1d35d71101b



			<%-- <input type="text" name="shop_name"  value="${shop_name }" placeholder="${shop_name }" hidden="true" /> --%>
			<br>
			<div style="display: flex; margin-top: 10px;">
				<div style="margin-right: 75px; color: green">Customer name</div>
				<div style="margin-right: 75px; color: green">Phone Number</div>
				<div style="color: green">
					<label for="PM">Payment Methods</label>
				</div>
			</div>

			<br>
			 <input type="text" name="c_name" id="c_name" 
				required="required" />
				 
				<input id="phn" type="number" name="phn"
				 style="margin-bottom: 10px;" required="required" /> 
				
				<select
				id="PM" name="PM" style="margin-bottom: 10px; width: 100px;">
				<option value="Card">Card</option>
				<option value="Cash">Cash</option>
				<option value="Upi">Upi</option>
			</select> <br>

<<<<<<< HEAD
			<div style="margin-right:3%;">
				
					<table>
					<thead>
						<tr>
							<th>SL.NO</th>
							<th>Items</th>
							<th>Price</th>
							<th>Qty</th>
							<th>Total</th>
							<th>Delete</th>
						</tr>
					</thead>
				<tbody>
				<c:forEach var="prd" items="${p}" varStatus="counter">
							<tr>
								<td>${counter.count}</td>
								<td>${prd.name }</td>
								<td>${prd.price }</td>
								<td>${prd.qty }</td>
								<td>${total.get(counter.count -1) }</td>
								<td><a href="deleteFromList?count=${counter.count }"><button class="btn btn-danger">Delete</button></a>
								</td>
							</tr>
						</c:forEach>
						</tbody>
					</table>
				</div>

			

		</div>
		<div style="display: flex; justify-content: space-between;">
			<div  style="margin-left:3%;">

				<table>
=======

			<div align="left"
				style="color: green; display: flex; justify-content: space-around;">
				<div>
					<h5>Gst: ${gd.gst }%</h5>
				</div>
				<div>
					<h5>Discount: ${gd.discount }%</h5>
				</div>
			</div>

		</div>


		<div style="margin-right: 3%;">

			<table id="Table">
				<thead>
					<tr>
						<th>SL.NO</th>
						<th>Items</th>
						<th>Price</th>
						<th>Qty</th>
						<th>Total</th>
						<th>Delete</th>
					</tr>
				</thead>
				<tbody id="body">
					<c:forEach var="prd" items="${p}" varStatus="counter">
						<tr>
							<td>${counter.count}</td>
							<td>${prd.name }</td>
							<td>${prd.price }</td>
							<td>${prd.qty }</td>
							<td>${total.get(counter.count -1) }</td>
							<td><a href="deleteFromList?count=${counter.count }"><button
										class="btn btn-danger">Delete</button></a></td>
						</tr>
					</c:forEach>
				</tbody>
			</table>
		</div>



	</div>
	<div style="display: flex; justify-content: space-between;">
		<div style="margin-left: 3%;">

			<table>
>>>>>>> 52dce04bc68cc567731e792fee31c1d35d71101b
				<thead>
					<tr>
						<th>Product Id</th>
						<th>Product Name</th>
						<th>Product Price</th>
						<th>Product Qty</th>
					</tr>
<<<<<<< HEAD
					</thead>
					<tbody>
=======
				</thead>
				<tbody>
>>>>>>> 52dce04bc68cc567731e792fee31c1d35d71101b
					<c:forEach var="l" items="${list }">
						<tr>
							<td>${l.id }</td>
							<td>${l.name }</td>
							<td>${l.price }</td>
							<td>${l.qty }</td>
						</tr>
					</c:forEach>

<<<<<<< HEAD
</tbody>
				</table>

			</div>
	
	
			<div style="margin-right: 70px">
				<h3 class="btn btn-success">Grand Total : Rs ${res }</h3>
				<h3 onmouseenter="a()">
					<a id="print" 
						href="print?shop_name=${list.get(0).getShop_name() }"><button class="btn btn-blue">Print</button></a>
				</h3>
			</div>

=======
				</tbody>
			</table>
>>>>>>> 52dce04bc68cc567731e792fee31c1d35d71101b

		</div>


<<<<<<< HEAD
			<a href="login"><button class="btn btn-green" style="padding: 10px 70px;">Log out</button></a>
		</div>


	<script type="text/javascript">
		var is_flag = true;
		function a() {
			if (is_flag == true) {
=======
		<div style="margin-right: 70px">
			<h3 class="btn btn-success">Grand Total : Rs ${res }</h3>
			<h3 onmouseenter="a()">
				<a id="print" href="print?shop_name=${list.get(0).getShop_name() }"><button
						class="btn btn-blue">Print</button></a>
			</h3>
		</div>


	</div>
>>>>>>> 52dce04bc68cc567731e792fee31c1d35d71101b

	<div style="margin-right: 70px; margin-top: 20px;" align="right">

		<a href="login"><button class="btn btn-green"
				style="padding: 10px 70px;">Log out</button></a>
	</div>


	<script type="text/javascript">
	


		let s = document.getElementById("print");
		let h = s.href;
		function a() {
			


			let c_name = document.getElementById("c_name").value;
			let phn = document.getElementById("phn").value;
			
			let x = false;
			if(c_name.length == 0 || c_name.length > 15 || phn.toString().length > 10 || phn.toString().length < 10){
				console.log("1");
				alert("Please check the Customer name or Phone Number(Customer name < 15 characters or can't be empty, Phone number will be 10 digits)")
			}
			
			else if (document.querySelectorAll("#Table tr").length <= 1){
				console.log("2");
				document.getElementsByTagName('a')[0].removeAttribute('href');
			}
			
			else{
				let PM = document.getElementById("PM").value;
				console.log(c_name);

				s.href = h + "-" + c_name + "-" + phn + "-" + PM;
			}
			
			
			
			


		}
	</script>
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
		crossorigin="anonymous">
		
	</script>
</body>
</html>